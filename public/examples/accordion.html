<div class="space-y-4">
  <div
    class="overflow-hidden"
    x-data="{ activeAccordion: false, maxHeight: 0 }"
    x-init="maxHeight = `${$refs.accordionContent.scrollHeight}px`"
  >
    <h2
      class="p-3 bg-gray-300 rounded-lg cursor-pointer"
      @click="activeAccordion = !activeAccordion"
    >
      Lorem ipsum dolor sit amet?
    </h2>

    <div
      class="transition-all max-h-0"
      :class="{ 'mt-4': activeAccordion }"
      :style="activeAccordion && { 'max-height': maxHeight }"
      x-ref="accordionContent"
    >
      <p>
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. At dolorum
        tenetur aut doloribus iste? Recusandae ipsam quod modi eligendi
        perspiciatis voluptatibus fugit, similique tenetur quos quasi impedit
        totam beatae iure, dolor unde voluptas a veniam adipisci quibusdam qui
        harum vel! Dolorem quaerat delectus in dignissimos libero, beatae itaque
        repudiandae! Velit?
      </p>
    </div>
  </div>

  <div
    class="overflow-hidden"
    x-data="{ activeAccordion: false, maxHeight: 0 }"
    x-init="maxHeight = `${$refs.accordionContent.scrollHeight}px`"
  >
    <h2
      class="p-3 bg-gray-300 rounded-lg cursor-pointer"
      @click="activeAccordion = !activeAccordion"
    >
      Lorem ipsum dolor sit amet?
    </h2>

    <div
      class="transition-all max-h-0"
      :class="{ 'mt-4': activeAccordion }"
      :style="activeAccordion && { 'max-height': maxHeight }"
      x-ref="accordionContent"
    >
      <p>
        Lorem ipsum dolor sit amet consectetur, adipisicing elit. Debitis vitae
        cum non labore itaque veniam exercitationem excepturi dolorum
        repellendus praesentium!
      </p>
    </div>
  </div>
</div>
